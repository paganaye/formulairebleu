{"version":3,"file":"FormArrayComponent-L-mjivvW.js","sources":["../../src/components/FormArrayComponent.tsx"],"sourcesContent":["import { Component, For, JSX, Show, createMemo, createSignal } from 'solid-js';\nimport { IFormArray, FormLineTemplate, FormTemplate } from '../core/FormTemplate';\nimport FormLineComponent from './FormLineComponent';\nimport FormComponent from './FormComponent';\nimport LabelComponent from './LabelComponent';\n// import { navigateToPage } from '../App';\n// import { twMerge } from 'tailwind-merge';\n\ninterface IFormArrayProps {\n  //   class?: string;\n  //   startIcon?: any;\n  //   onClick?: (event: MouseEvent) => void;\n  //   disabled?: boolean;\n  //   children: JSX.Element;\n  template: IFormArray\n  value: any;\n  setValue: (value: any) => void\n}\n\nconst FormArrayComponent: Component<IFormArrayProps> = (props) => {\n  function getValue(lineNo: number, col: FormLineTemplate) {\n    let rowValue = props.value[lineNo]\n    if ('key' in col && col.key) return rowValue[col.key]\n    else return rowValue;\n  }\n  function setValue(lineNo: number, col: FormLineTemplate, value: any) {\n    let rowValue = props.value[lineNo]\n    if ('key' in col) {\n      let newArray = props.value.slice()\n      if ('key' in col && col.key != undefined) {\n        newArray[col.key] = value;\n        props.setValue(newArray)\n      }\n    }\n  }\n  function addRow() {\n    let newArray = props.value.slice()\n    newArray.push({});\n    console.log(\"new Array\", newArray)\n    props.setValue(newArray)\n  }\n\n  return (\n    <>\n      <Show when={props.template} fallback={<p>Array sans mod√®le</p>}>\n        <LabelComponent label={props.template.label}>\n          <div>\n            <p>len:{props.value.length}</p>\n            <For each={props.value}>\n              {(el, rowIdx) =>\n\n                <For each={props.template.columns}>\n                  {(col, colIdx) => <>\n                    <FormLineComponent template={col} value={getValue(rowIdx(), col)} setValue={(a) => setValue(rowIdx(), col, a)} />\n                    <button>Delete</button>\n                  </>\n                  }\n                </For>\n\n              }\n            </For>\n            <button onClick={addRow}>Add</button>\n          </div>\n        </LabelComponent>\n\n      </Show>\n    </>\n  );\n};\n\nexport default FormArrayComponent;"],"names":["FormArrayComponent","props","getValue","lineNo","col","rowValue","value","key","setValue","newArray","slice","undefined","addRow","push","log","_$createComponent","Show","when","template","fallback","_tmpl$2","children","LabelComponent","label","_el$","_tmpl$","_el$2","firstChild","_el$4","nextSibling","_$insert","length","For","each","el","rowIdx","columns","colIdx","FormLineComponent","a","_tmpl$3","$$click","_$delegateEvents"],"mappings":"wPAmBA,MAAMA,EAA4DC,GAAA,CACvDC,SAAAA,EAASC,EAAgBC,EAAuB,CACnDC,IAAAA,EAAWJ,EAAMK,MAAMH,CAAM,EAC7B,MAAA,QAASC,GAAOA,EAAIG,IAAYF,EAASD,EAAIG,GAAG,EACxCF,CACd,CACSG,SAAAA,EAASL,EAAgBC,EAAuBE,EAAY,CAEnE,GADeL,EAAMK,MAAMH,CAAM,EAC7B,QAASC,EAAK,CACZK,IAAAA,EAAWR,EAAMK,MAAMI,MAAM,EAC7B,QAASN,GAAOA,EAAIG,KAAOI,OACpBP,EAAAA,EAAIG,GAAG,EAAID,EACpBL,EAAMO,SAASC,CAAQ,EAE3B,CACF,CACA,SAASG,GAAS,CACZH,IAAAA,EAAWR,EAAMK,MAAMI,MAAM,EACxBG,EAAAA,KAAK,CAAA,CAAE,EACRC,QAAAA,IAAI,YAAaL,CAAQ,EACjCR,EAAMO,SAASC,CAAQ,CACzB,CAEA,OAAAM,EAEKC,EAAI,CAAA,IAACC,MAAI,CAAA,OAAEhB,EAAMiB,QAAQ,EAAA,IAAEC,UAAQ,CAAA,OAAAC,EAAA,CAAA,EAAA,IAAAC,UAAA,CAAA,OAAAN,EACjCO,EAAc,CAAA,IAACC,OAAK,CAAA,OAAEtB,EAAMiB,SAASK,KAAK,EAAA,IAAAF,UAAA,CAAAG,IAAAA,EAAAC,IAAAC,EAAAF,EAAAG,WAAAD,EAAAC,eAAAC,EAAAF,EAAAG,YAAAC,OAAAA,EAAAJ,EAAA,IAE/BzB,EAAMK,MAAMyB,OAAM,IAAA,EAAAP,EAAAA,EAAAT,EACzBiB,EAAG,CAAA,IAACC,MAAI,CAAA,OAAEhC,EAAMK,KAAK,EAAAe,SACnBA,CAACa,EAAIC,IAAMpB,EAETiB,EAAG,CAAA,IAACC,MAAI,CAAA,OAAEhC,EAAMiB,SAASkB,OAAO,EAAAf,SAC9BA,CAACjB,EAAKiC,IAAMtB,CAAAA,EACVuB,EAAiB,CAACpB,SAAUd,EAAG,IAAEE,OAAK,CAAEJ,OAAAA,EAASiC,IAAU/B,CAAG,CAAC,EAAEI,SAAiBA,GAAAA,EAAS2B,EAAO,EAAG/B,EAAKmC,CAAC,CAAA,CAAC,EAAAC,EAAAA,CAAA,CAAA,CAE5G,CAAA,CAEC,EAAAZ,CAAA,EAAAA,EAAAa,QAIO7B,EAAMY,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAOnC,EAEkCkB,EAAA,CAAA,OAAA,CAAA"}